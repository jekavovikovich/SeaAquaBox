1. изучение возможностей и выбор платформы
- изучть схемы перелива/слива воды в системах морских аквариумов
- изучить схемы технических аквариумов-сампов в морских системах
- изучить варианты контроля утечки 220в в аквариумах
- изучить возможности stm32 F серий для применения в проекте, сравнить с atmega2560
- сравнить варианты сред разработки: arduinoide или cubemx или mbedstudio
- изучить работу с потоками в различных варинтах на stm32 и arduino
- изучить варианты с дисплеями, выбрать lcd или tft
- рассмотреть варианты управления аналоговой led лентой на 6 каналов
- изучить принципы работы с аналоговым датчиком тока
- рассмотреть варианты датчиков проводимости и ионоселективных химических
- рассмотреть варинаты управления резервным питанием и зарядом акб с микроконтроллера, возможно это будет отдельный самостоятельный модуль
- рассмотреть варианты для дальнейшего обновления прошивки удобным способом

2. разработка составных частей прототипа
- спроектировать основной аквариум-дисплей по выбранной схеме перелива/слива, нарисовать чертеж
- спроектировать технический аквариум-самп по выбранному функционалу, нарисовать чертеж
- спроектировать тумбу, с учетом расположения всех систем, нарисовать чертеж
- спроектировать основной светильник, выбрать компоненты
- выбрать rgb-светильник для тумбы и способы управления им(ir или on/off 1-pin?)
- определиться со списком исполнительных устройств, которые должны будут работать от резервного питания
- посчтитать и задокументировать максимально возможную нагрузку резервируемых устройств
- посчтитать и задокументировать максимально возможную нагрузку всех устройств в проекте, отдельно по питанию 220в, 12в и 5в
- рассмотреть необходимость разделения блоков питания контроллера и прочих устройств
- выбрать запасную батарею, блок питания
- выбрать систему фильтрации помех по 220в и защиты от возможной утечки тока на воду, интегрировать в нее датчик тока
- проверить что ничего не забыто по проекту перед выполнением следующего пункта
- разработать(easypda) схему соединения электронных компонентов с микроконтроллером
- составить список недостающих материалов и компонентов
- закупить компоненты, вести учет материальных затрат

3. сборка составных частей прототипа
- построить тумбу по чертежу
- заказать дверцы и фурнитуру для тумбы
- выполнить в тумбе разводку розеток 220в
- заказать у специалистов стеклянные части для дисплея и сампа
- собрать водопроводную и механическую части: перелив, трубы, помпы, нагреватели, датчики потока/температуры/уровней/освещенности и пр.
- собрать и установить основной светильник, установить светильник в тумбу
- собрать прототип электронной части, подключить устройства

4. разработать программную часть, требования к ней:
- взаимодействовать с пльзователем напрямую с помощью механического экодера с кнопкой
- взаимодействовать с пользователем напрямую с помощью кнопок быстрого включением/выкл исполнительных устройств
- выводить информацию на дисплей
- отображать состояние исполнительных устройств светодиодными индикаторами
- выполнять задачи по расписанию реального времени для управления освещением
- выполнять задачи по расписанию реального времени для управления баллингом
- выполнять задачи по расписанию реального времени для управления течением и кормушкой
- управлять клапаном долива осмос-воды в самп, опираясь на показания датчиков уровней
- использовать eprom для хранения настроек
- вести учет изменений/колебаний параметров системы(температуры, влажности, других событий) за прошедший период времени
- иметь сигнализацию аварийных или критических состояний, контролировать датчик перелива в дисплее, датчик потока на помпе
- уметь распознавать переход на резервное питание и соответственно реагировать - отключать все лишнее, включать компрессор
- взаимодействовать с пк для передачи телеметрии и принятия новых настроек

5. тестирование прототипа, исправление конструкции на месте по мере возможности, документирование изменений
- выявление механических проблем и недочетов, исправление чертежей
- выявление аппаратных проблем электронной части, исправление списка используемых компонентов
- выявление программных проблем электронной части, ведение версий прошивок(github) с детальным описанием изменений
- настройка температурного режима
- настройка светового дня
- настройка управления течением и кормушкой
- настройка системы баллинга, контроль хим.показателей

6. тестирование с живыми обитателями


100. проектирование и сборка блока управления для законченного пользовательского устройства
- определить только нужную аппаратную часть, что-то добавить что-то удалить
- модифицировать(easypda) схему соединения электронных компонентов
- разработать печатную плату с разводкой только для нужных компонентов, заказать ее изготовление



